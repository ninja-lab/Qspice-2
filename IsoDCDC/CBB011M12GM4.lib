******************************************************************************************************************************************************************************
*
*  888888              888888               888888  .o888888888888o.    8888         88888888888  o888888888888888   88888888888888o   88888888888  88888888888  8888888888o
*   88888             88888888             88888   .8888888  8888888.   8888         88888888888  o8888888888888888  888888  8888888o  88888888888  88888888888  88888888888o
*    88888           8888  8888           88888   .8888888.  .8888888.  8888         8888         888888888          888888  88888888  8888         8888         8888   88888
*     88888         8888    8888         88888    88888888    88888888  8888         8888         888888888          888888  88888888  8888         8888         8888   88888
*      88888       8888      8888       88888     88888888    88888888  8888         8888888      o888888888888888o  888888  8888888o  8888888      8888888      8888   88888
*       88888     8888        8888     88888      88888888    88888888  8888         8888888      o888888888888888o  88888888888888o   8888888      8888888      8888   88888
*        88888   8888          8888   88888       88888888    88888888  8888         8888                  88888888  8888              8888         8888         8888   88888
*         88888 8888            8888 88888        .8888888.  .8888888.  8888         8888                  88888888  8888              8888         8888         8888   88888
*          88888888             88888888           .8888888  8888888.   88888888888  8888         8888888888888888o  8888              88888888888  88888888888  88888888888o
*           888888               888888             .o888888888888o.    88888888888  8888         888888888888888o   8888              88888888888  88888888888  8888888888o
*
******************************************************************************************************************************************************************************

*******************************************************************************
**	Wolfspeed, Inc
**	DISCLAIMER
*******************************************************************************
**	This model is provided as is, where is, and with no warranty of any kind
**	either expressed or implied, including but not limited to any implied
**	warranties of merchantability and fitness for a particular purpose.
*******************************************************************************
**	To find other WOLFSPEED SiC models, please visit:
**	https://www.wolfspeed.com/power/tools-and-support/all-models
*******************************************************************************

***********************************************************
****	
****	Wolfspeed SiC Module SPICE Model
****		CBB011M12GM4
****		Version 2.0	Date: 2025-07-22
**	Intended for use in LTspice, however is compatible with SPICE2 syntax.
****	
*********************************************************************
**** Full Bridge Module Layout ****
****      DC+      ****
****   Q1    Q3    ****
****   Q2    Q4    ****
****  DC-1  DC-2   ****
**** DC-1 / DC-2 are disconnected internally
****	
****	Node Definitions:
****		Electrical
****		DC+   =  Drain
****		DC-1  = Q2 source (Phase 1)
****		DC-2  = Q4 source (Phase 2)
****		AC1   = AC terminal (Phase 1)
****		AC2   = AC terminal (Phase 2)
****		Gn    = Qn Gate
****		Kn    = Qn Kelvin
****		TjQn  = Qn Junction Temperature
****		TcQn  = Qn Case Thermal Connection [apply coolant temperature as a voltage]
****		Electrical (EMI)
****		Baseplate = Node for studying current induced 
****					through heatsink into grounding system
*********************************************************************
.SUBCKT CBB011M12GM4 DC+ DC-1 DC-2 AC1 AC2 G1 G2 G3 G4 K1 K2 K3 K4 TjQ1 TjQ2 TjQ3 TjQ4 TcQ1 TcQ2 TcQ3 TcQ4


* Rp:parasitic inductance bypass. Set to 1m for increased speed, but less accuracy
.param Rp=10
* 1Meg resistances allow sim to run with Gate/Kelvins left open
Rgk1 G1 K1 1Meg
Rgk2 G2 K2 1Meg
Rgk3 G3 K3 1Meg
Rgk4 G4 K4 1Meg

*** SiC MOSFETS ***
* High Side *
XDie_Electrical_Q1 D GQ1 SQ1 TjQ1 IQ1 Mosfet
XDie_Electrical_Q3 D GQ3 SQ3 TjQ3 IQ3 Mosfet

* Low Side *
XDie_Electrical_Q2 SQ1 GQ2 SQ2 TjQ2 IQ2 Mosfet
XDie_Electrical_Q4 SQ3 GQ4 SQ4 TjQ4 IQ4 Mosfet

*** Thermal Networks ***
* High Side *
XDie_Thermal_Q1 TjQ1 TcQ1 D SQ1 IQ1 Thermal_Network PARAMS: Ct1=438.89u Ct2=6.47m Ct3=39.11m Ct4=183.93m Rt1=4.37m Rt2=25.10m Rt3=117.81m Rt4=281.72m
XDie_Thermal_Q3 TjQ3 TcQ3 D SQ3 IQ3 Thermal_Network PARAMS: Ct1=438.89u Ct2=6.47m Ct3=39.11m Ct4=183.93m Rt1=4.37m Rt2=25.10m Rt3=117.81m Rt4=281.72m
* Low Side *
XDie_Thermal_Q2 TjQ2 TcQ2 SQ1 SQ2 IQ2 Thermal_Network PARAMS: Ct1=438.89u Ct2=6.47m Ct3=39.11m Ct4=183.93m Rt1=4.37m Rt2=25.10m Rt3=117.81m Rt4=281.72m
XDie_Thermal_Q4 TjQ4 TcQ4 SQ3 SQ4 IQ4 Thermal_Network PARAMS: Ct1=438.89u Ct2=6.47m Ct3=39.11m Ct4=183.93m Rt1=4.37m Rt2=25.10m Rt3=117.81m Rt4=281.72m

*** Baseplate Capacitance [COMMENTED: uncomment and add a baseplate pin if desired!] ***
*Cug D Baseplate 92.00p
*Ca1g SQ1 Baseplate 85.00p
*Ca2g SQ3 Baseplate 93.00p
*Ca3g SQ2 Baseplate 49.00p
*Cl1g SQ4 Baseplate 50.00p

*** Parasitic Parameters ***
Ld DC+ DC+intD 8.00n
Rsd DC+intD D 1.48m
Rpd DC+ D {Rp}
LP1P SQ1 SQ1intAC1 9.80n
RsP1P SQ1intAC1 AC1 1.68m
RpP1P SQ1 AC1 {Rp}
LP2P SQ3 SQ3intAC2 9.40n
RsP2P SQ3intAC2 AC2 1.68m
RpP2P SQ3 AC2 {Rp}

LP1S SQ2 SQ2intDC-1 8.80n
RsP1S SQ2intDC-1 DC-1 1.68m
RpP1S SQ2 DC-1 {Rp}
LP2S SQ4 SQ4intDC-2 20.13n
RsP2S SQ4intDC-2 DC-2 1.68m
RpP2S SQ4 DC-2 {Rp}

LQ1G G1 G1intGQ1 8.55n
RsQ1G G1intGQ1 GQ1 1.17
LQ2G G2 G2intGQ2 6.40n
RsQ2G G2intGQ2 GQ2 1.17
LQ3G G3 G3intGQ3 7.55n
RsQ3G G3intGQ3 GQ3 1.17
LQ4G G4 G4intGQ4 6.40n
RsQ4G G4intGQ4 GQ4 1.17

LQ1K K1 K1intSQ1 8.55n
RsQ1K K1intSQ1 SQ1 1.17
LQ2K K2 K2intSQ2 6.40n
RsQ2K K2intSQ2 SQ2 1.17
LQ3K K3 K3intSQ3 7.55n
RsQ3K K3intSQ3 SQ3 1.17
LQ4K K4 K4intSQ4 6.40n
RsQ4K K4intSQ4 SQ4 1.17

.ENDS CBB011M12GM4

.SUBCKT Thermal_Network Tj Tc Vp Vn Vi PARAMS: Ct1=1 Ct2=1 Ct3=1 Ct4=1 Rt1=1 Rt2=1 Rt3=1 Rt4=1
GPwr 0 Tj Value {abs(V(Vp,Vn)*(V(Vi)))}
Rtj Tj 0 10k
Ct1 Tj 0 {Ct1}
Ct2 1 0 {Ct2}
Ct3 2 0 {Ct3}
Ct4 3 0 {Ct3}
Rt1 Tj 1 {Rt1}
Rt2 1 2 {Rt2}
Rt3 2 3 {Rt3}
Rt4 3 Tc {Rt4}
RTground Tc 0 10k
.ic V(Tj) = {TEMP} V(1) = {TEMP} V(2) = {TEMP} V(3) = {TEMP}
.ENDS Thermal_Network

.SUBCKT Mosfet D G S Tj Id PARAMS: AFm=3, Rdss=0, Vths=0, CgdOffset=-5.94p, ads=1 agd=1.70, ags=650.35m, tm1=6.19, tm2=10.59 tau1=18.04 tau2=22.70 Rqe=8.69
*** Forward Conduction Model ***
Gds D s2 Value {V(Fwd)}
Eds Fwd 0 Value {AFm*IdFwd(V(D,s2),V(G,S)-Vths/(1+max(V(G,S)-10,0)**3)+VthFwd(V(Tj)))}
GRds s2 S Value {V(s2,S)/((Rdss + RTJ(V(Tj)))/AFm)}
R1 s2 S 1k
Rbypass D S 1G
Cbypass D 0 10p

.func IdFwd(Vds,Vgs) {a(Vgs)*atan(b(Vgs)*max(Vds,0)) + c(Vgs)*Vds + b(Vgs)*a(Vgs)*min(Vds,0)}

ECurr Id 0 Value {abs(V(Rev)) + abs(V(Fwd))}
*** Third Quadrant [With RR] ***
GRbd D d2 Value {V(D,d2)/((Rscal(V(Tj))*Rs(V(G,S)))/(AFm))}
R2 D d2 1k
GI1 0 qm Value {-1/tau(V(Tj))*V(qm)+V(qe,qm)/TM(V(Tj))}
EV1 qe1 0 Value {min((1+TM(V(Tj))/tau(V(Tj)))*Is(V(G,S))*tau(V(Tj))*(-1+exp(max(V(S,d2),-1n)/(nscal(V(Tj))*nn(V(G,S))))),1e6)}
Lqe qe1 qe 25n
Rqe qe qe2 {Rqe}
Cqe qe2 0 100n
*GITQ S d2 Value {V(Rev)}
EITQ Rev 0 Value {AFm*V(qe,qm)/TM(V(Tj))}
C1 qm 0 1
R3 qm 0 100G
.func tau(Tj) {1e-9*table(Tj,25,tau1,175,tau2)}
.func TM(Tj) {1e-9*table(Tj,25,tm1,175,tm2)}

*** CV Model ***

Cg0 G 0 1p
Rg0 G 0 100Meg
G_cdg    D    G    Value {(AFm*(agd*Cdg(V(D,G))+{1e9*CgdOffset}))*ddt(1e-9*V(D,G))}
G_cds    d2   S    Value {AFm*ads*Cds(V(d2,S))*ddt(1e-9*V(d2,S)) - V(Rev)}
G_cgs    G    S    Value {AFm*ags*Cgs(max(V(G,S),0))*ddt(1e-9*V(G,S))}
.ic V(G,S) = 0

**********************************************************************
********************** Models and Parameters ***********************
**********************************************************************



*** Forward Conduction Parameters ***
.func a(Vgs) {table(Vgs,0,6.3694e-07,0.5,5.5133e-06,1,6.8338e-05,1.5,0.00030901,2,0.0013972,2.5,0.0063179,3,0.028568,3.5,0.10072,4,0.27737,4.5,0.63803,5,1.3289,5.5,2.495,6,4.3538,6.5,7.024,7,10.7488,7.5,15.7268,8,22.277,+
+8.5,30.4448,9,40.4374,9.5,51.9957,10,65.3211,10.5,79.6158,11,94.2399,11.5,110.3904,12,127.5271,12.5,145.7613,13,165.2433,13.5,185.0169,14,203.5532,14.5,219.8658,15,233.2404,15.5,243.941,16,253.0219,16.5,260.3839,17,+
+267.3835,17.5,273.9825,18,280.3866,18.5,286.3849,19,292.124,19.5,298.0037,20,304.075,20.5,309.9993,21,316.1972,21.5,322.5372,22,328.6926,22.5,334.6727,23,340.4861,23.5,346.1411,24,351.645,24.5,357.0048,25,362.2272,25.5,+
+367.3183,26,372.2837,26.5,377.129,27,381.8591,27.5,386.4788,28,390.9926,28.5,395.4047,29,399.7191,29.5,403.9998,30,408.1567)}
.func b(Vgs) {table(Vgs,0,1,0.5,1,1,1,1.5,1,2,1,2.5,1,3,1,3.5,1,4,1,4.5,1,5,0.92027,5.5,0.8257,6,0.71508,6.5,0.5986,7,0.47354,7.5,0.41971,8,0.37189,8.5,0.33397,9,0.29663,9.5,0.26519,10,0.23816,10.5,0.21804,11,0.20233,+
+11.5,0.18818,12,0.17399,12.5,0.16118,13,0.14824,13.5,0.1364,14,0.12757,14.5,0.12143,15,0.11802,15.5,0.11667,16,0.11596,16.5,0.11596,17,0.11596,17.5,0.11596,18,0.11596,18.5,0.11596,19,0.11596,19.5,0.11596,20,0.11596,+
+20.5,0.11596,21,0.11596,21.5,0.11596,22,0.11596,22.5,0.11596,23,0.11596,23.5,0.11596,24,0.11596,24.5,0.11596,25,0.11596,25.5,0.11596,26,0.11596,26.5,0.11596,27,0.11596,27.5,0.11596,28,0.11596,28.5,0.11596,29,0.11596,+
+29.5,0.11596,30,0.11596)}
.func c(Vgs) {table(Vgs,0,0,0.5,0,1,0,1.5,0,2,0,2.5,0,3,0.00010441,3.5,0.00042125,4,0.0010171,4.5,0.0021745,5,0.0039708,5.5,0.00652,6,0.0095883,6.5,0.014649,7,0.021527,7.5,0.030301,8,0.038773,8.5,0.049437,9,0.059247,9.5,+
+0.067465,10,0.073146,10.5,0.085404,11,0.15563,11.5,0.2298,12,0.33935,12.5,0.44944,13,0.5558,13.5,0.6013,14,0.64169,14.5,0.64589,15,0.64956,15.5,0.64983,16,0.65006,16.5,0.65006,17,0.65006,17.5,0.65006,18,0.65006,18.5,+
+0.65006,19,0.65006,19.5,0.65006,20,0.65006,20.5,0.65006,21,0.65006,21.5,0.65006,22,0.65006,22.5,0.65006,23,0.65006,23.5,0.65006,24,0.65006,24.5,0.65006,25,0.65006,25.5,0.65006,26,0.65006,26.5,0.65006,27,0.65006,27.5,+
+0.65006,28,0.65006,28.5,0.65006,29,0.65006,29.5,0.65006,30,0.65006)}
.func RTJ(Tj) {table(Tj,-40,-0.0047727,-30,-0.0039903,-20,-0.003139,-10,-0.0022189,0,-0.0012299,10,-0.00017197,20,0.0009548,30,0.0021504,40,0.0034149,50,0.0047483,60,0.0061505,70,0.0076216,80,0.0091616,90,0.01077,100,+
+0.012448,110,0.014195,120,0.01601,130,0.017895,140,0.019848,150,0.02187,160,0.023961,170,0.026121,180,0.028349,190,0.030647,200,0.033013,300,0.056677,400,0.080341,500,0.10401,600,0.12767,700,0.15133,800,0.175,900,+
+0.19866,1000,0.22233,1100,0.24599,1200,0.26965,1300,0.29332,1400,0.31698,1500,0.34065,1600,0.36431,1700,0.38798,1800,0.41164,1900,0.4353,2000,0.45897)}
.func VthFwd(Tj) {table(Tj,-40,-0.79395,-30,-0.69496,-20,-0.59318,-10,-0.48862,0,-0.38126,10,-0.27112,20,-0.15819,30,-0.042464,40,0.076047,50,0.19735,60,0.32144,70,0.44832,80,0.57798,90,0.71044,100,0.84569,110,0.98372,+
+120,1.1245,130,1.2682,140,1.4146,150,1.5638,160,1.7157,170,1.8705,180,2.0281,190,2.1884,200,2.3515,300,3.9829,400,5.6143,500,6,600,6,700,6,800,6,900,6,1000,6,1100,6,1200,6,1300,6,1400,6,1500,6,1600,6,1700,6,1800,6,1900,6,2000,6)}


*** Reverse Conduction Parameters ***
.func nn(Vgs) {table(Vgs,-5,0.31802,-4,0.30239,-3,0.27549,-2,0.23997,-1,0.20172,0,0.16707,1,0.1439,2,0.14387,3,0.29318,4,0.30477,5,0.25055,6,0.20969,7,0.17319,8,0.15077,9,0.13968,10,0.1245,11,0.11898,12,0.11825,13,+
+0.10867,14,0.1,15,0.1,16,0.1,17,0.1,18,0.1)}
.func Rs(Vgs) {table(Vgs,-5,0.044717,-4,0.043436,-3,0.045399,-2,0.049174,-1,0.051824,0,0.051815,1,0.046541,2,0.038559,3,0.027063,4,0.026832,5,0.031403,6,0.036827,7,0.04234,8,0.049371,9,0.058908,10,0.073633,11,0.090477,+
+12,0.11197,13,0.1348,14,0.13697,15,0.13652,16,0.15032,17,0.16868,18,0.18933)}
.func Is(Vgs) {table(Vgs,-5,1e-05,-4,1e-05,-3,1e-05,-2,1e-05,-1,1e-05,0,1e-05,1,1e-05,2,3.9431e-05,3,0.035501,4,0.1,5,0.1,6,0.1,7,0.1,8,0.1,9,0.1,10,0.1,11,0.1,12,0.1,13,0.1,14,0.1,15,0.1,16,0.1,17,0.1,18,0.1)}
.func Rscal(Tj) {table(Tj,-40,1.0718,-30,1.0277,-20,0.99562,-10,0.97556,0,0.96752,10,0.9715,20,0.98749,30,1.0155,40,1.0555,50,1.1076,60,1.1717,70,1.2478,80,1.3359,90,1.436,100,1.5482,110,1.6724,120,1.8086,130,1.9568,140,+
+2.117,150,2.2893,160,2.4735,170,2.6698,180,2.8781,190,3.0985,200,3.3308,300,5.6543,400,7.9779,500,10.3014,600,12.6249,700,14.9484,800,17.272,900,19.5955,1000,21.919,1100,24.2425,1200,26.5661,1300,28.8896,1400,31.2131,+
+1500,33.5366,1600,35.8602,1700,38.1837,1800,40.5072,1900,42.8307,2000,45.1543)}
.func nscal(Tj) {table(Tj,-40,1.0132,-30,1.0112,-20,1.0091,-10,1.0071,0,1.0051,10,1.0031,20,1.001,30,0.99898,40,0.99695,50,0.99491,60,0.99287,70,0.99083,80,0.98878,90,0.98674,100,0.98469,110,0.98265,120,0.9806,130,+
+0.97855,140,0.9765,150,0.97445,160,0.97239,170,0.97034,180,0.96828,190,0.96623,200,0.96417,300,0.94358,400,0.92299,500,0.9024,600,0.88181,700,0.86122,800,0.84063,900,0.82004,1000,0.79945,1100,0.77886,1200,0.75827,1300,+
+0.73768,1400,0.71709,1500,0.6965,1600,0.67591,1700,0.65532,1800,0.63473,1900,0.61414,2000,0.59355)}

*** Device Capacitance Values ***
.func Cds(V) {table(V,0.005,2.399,0.006,2.396,0.007,2.397,0.008,2.396,0.010,2.396,0.013,2.394,0.016,2.391,0.020,2.388,0.024,2.386,0.030,2.381,0.037,2.377,0.046,2.373,0.057,2.365,0.071,2.358,0.087,2.351,0.108,2.342,0.133,+
+2.330,0.165,2.320,0.203,2.304,0.251,2.288,0.311,2.265,0.384,2.241,0.474,2.211,0.586,2.177,0.725,2.136,0.895,2.089,1.106,2.036,1.367,1.976,1.690,1.911,2.088,1.840,2.581,1.763,3.189,1.680,3.941,1.592,4.871,1.500,6.019,+
+1.402,7.439,1.282,9.193,1.162,11.361,1.043,14.040,0.926,17.350,0.817,21.442,0.730,26.498,0.651,32.746,0.578,40.468,0.513,50.011,0.456,61.804,0.406,76.378,0.364,94.389,0.326,116.646,0.293,144.152,0.263,178.145,0.237,+
+220.153,0.213,272.067,0.192,336.223,0.173,415.507,0.157,513.487,0.141,634.572,0.128,784.209,0.117,969.132,0.106,1197.662,0.098)}

.func Cdg(V) {table(V,0.005,1.590,0.006,1.588,0.007,1.587,0.008,1.585,0.010,1.583,0.013,1.580,0.016,1.577,0.020,1.572,0.024,1.567,0.030,1.560,0.037,1.551,0.046,1.540,0.057,1.528,0.071,1.512,0.087,1.492,0.108,1.467,0.133,+
+1.436,0.165,1.398,0.203,1.353,0.251,1.298,0.311,1.235,0.384,1.164,0.474,1.089,0.586,1.012,0.725,0.937,0.895,0.866,1.106,0.798,1.367,0.731,1.690,0.665,2.088,0.601,2.581,0.538,3.189,0.477,3.941,0.419,4.871,0.363,6.019,+
+0.308,7.439,0.240,9.193,0.180,11.361,0.129,14.040,0.088,17.350,0.058,21.442,0.050,26.498,0.044,32.746,0.038,40.468,0.034,50.011,0.030,61.804,0.027,76.378,0.025,94.389,0.023,116.646,0.021,144.152,0.019,178.145,0.018,+
+220.153,0.016,272.067,0.015,336.223,0.014,415.507,0.013,513.487,0.012,634.572,0.011,784.209,0.010,969.132,0.010,1197.662,0.009)}

.func Cgs(V) {table(V,-5.360,3.603,-4.567,2.692,-3.774,2.510,-2.981,2.274,-2.188,2.389,-1.394,2.662,-0.601,3.003,0.192,3.383,0.985,3.755,1.778,4.044,2.571,4.211,3.364,4.308,4.157,4.353,4.950,4.379,5.743,4.396,6.537,+
+4.410,7.330,4.420,8.123,4.429,8.916,4.436,9.709,4.443,10.502,4.449,11.295,4.455,12.088,4.460,12.881,4.464,13.674,4.469,14.468,4.473,15.261,4.477,16.054,4.480,16.847,4.484,17.640,4.486)}


.ENDS Mosfet
